services:
  - type: web
    name: crossdrop-signaling-server
    env: docker
    dockerContext: ./server
    dockerfilePath: ./server/Dockerfile
    repo: https://github.com/vinodh-rg/b2b # Update this with your actual repo URL
    branch: main
    plan: free
    region: singapore # Choose closest region
    envVars:
      - key: NODE_ENV
        value: production
      - key: PORT
        value: 3000
      - key: JWT_SECRET
        generateValue: true # Render will generate a secure secret
      - key: HEARTBEAT_MS
        value: 30000
      - key: CLIENT_TIMEOUT_MS
        value: 60000
    autoDeploy: true
